$(document).ready(function(){function i(i){var j=$(window).scrollTop(),l=!i||"scroll"!==i.type;if(!(a||window.attachEvent&&!window.addEventListener)){if(g.menu<g.window)return void k();if(f=!0,g.menu>g.window){if(0>j)return void(c||(c=!0,d=!1,h.css({position:"fixed",top:"",bottom:""})));if(j+g.window>$(document).height()-1)return void(d||(d=!0,c=!1,h.css({position:"fixed",top:"",bottom:0})));j>b?c?(c=!1,e=h.offset().top-(j-b),e+g.menu+g.footer<j+g.window&&(e=j+g.window-g.menu),h.css({position:"absolute",top:e,bottom:""})):!d&&h.offset().top+g.menu<j+g.window&&(d=!0,h.css({position:"fixed",top:"",bottom:0})):b>j?d?(d=!1,e=h.offset().top+(b-j),e+g.menu>j+g.window&&(e=j),h.css({position:"absolute",top:e,bottom:""})):!c&&h.offset().top>=j-g.footer&&(c=!0,h.css({position:"fixed",top:"",bottom:""})):l&&(c=d=!1,e=j+g.window-g.menu+2*g.footer,e>0?h.css({position:"absolute",top:e,bottom:""}):k())}b=j}}function j(){g={window:$(window).height(),footer:$("#footer").height(),menu:h.height()}}function k(){!a&&f&&(c=d=f=!1,h.css({position:"",top:"",bottom:""}))}function l(){j(),screen.width<=640?($(document.body).removeClass("sticky-menu"),k()):g.menu>g.window&&g.menu<$("#body").height()?(i(),$(document.body).removeClass("sticky-menu")):($(document.body).addClass("sticky-menu"),k())}var a=/iPhone|iPad|iPod/.test(navigator.userAgent),b=0,c=!1,d=!1,e=0,f=!1,g={},h=$("#menu");a||$(window).on("resize scroll",l),l()});